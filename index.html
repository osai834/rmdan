<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Kareem</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
margin:0;
font-family:Tahoma,Arial;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
color:white;
}

.stars{
position:absolute;
width:100%;
height:100%;
background:url("https://www.transparenttextures.com/patterns/stardust.png"); /* Ø§Ø³ØªØ¨Ø¯Ù„Øª Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø·ÙˆÙŠÙ„ Ø¨Ø±Ø§Ø¨Ø· Ø£Ø®Ù Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø­Ø¯ÙˆØ« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ */
animation:moveStars 80s linear infinite;
opacity:.4;
}

@keyframes moveStars{
from{background-position:0 0;}
to{background-position:1500px 1500px;}
}

.card{
background:rgba(0,0,0,.6);
backdrop-filter:blur(10px);
padding:30px;
border-radius:20px;
text-align:center;
width:360px;
box-shadow:0 0 30px rgba(255,215,0,.4);
transition:.3s;
position: relative;
z-index: 10;
}

h1{
font-size:28px;
text-shadow:0 0 10px gold,0 0 20px gold;
}

input,select{
width:100%;
padding:10px;
margin-top:10px;
border:none;
border-radius:10px;
box-sizing: border-box;
}

button{
margin-top:12px;
padding:10px;
width:100%;
border:none;
border-radius:10px;
font-weight:bold;
cursor:pointer;
}

.primary{
background:goldenrod;
color:black;
}

.primary:hover{background:orange;}

.whatsapp{
background:#25D366;
color:white;
}

.whatsapp:hover{background:#1ebe5d;}

.message{
margin-top:15px;
opacity:0;
transform:scale(.8);
transition:.5s;
}

.show{
opacity:1;
transform:scale(1);
}

.avatar{
width:80px;
height:80px;
border-radius:50%;
margin:10px auto;
display:block;
}

.error{
color:red;
margin-top:10px;
display:none;
}

.countdown{
margin-top:10px;
font-size:14px;
}

.mute{
position:absolute;
top:10px;
left:10px;
background:gold;
border:none;
padding:5px 10px;
border-radius:8px;
cursor:pointer;
z-index: 100;
}
</style>
</head>

<body>

<div class="stars"></div>

<button class="mute" onclick="toggleMusic()">ğŸ”Š</button>

<div class="card" id="card">
    <h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™</h1>

    <input type="text" id="userName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">

    <select id="type">
        <option value="friends">Ù„Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</option>
        <option value="family">Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©</option>
        <option value="formal">Ø±Ø³Ù…ÙŠØ©</option>
    </select>

    <select id="color">
        <option value="rgba(0,0,0,0.6)">Ø¯Ø§ÙƒÙ†</option>
        <option value="#1e3a8a">Ø£Ø²Ø±Ù‚</option>
        <option value="#7c2d12">Ø¨Ù†ÙŠ</option>
        <option value="#14532d">Ø£Ø®Ø¶Ø±</option>
    </select>

    <button class="primary" onclick="greet()">ØªÙ‡Ù†Ø¦Ø©</button>
    <button class="whatsapp" onclick="sendWhatsApp()">Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>

    <div class="error" id="error">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­ Ø¨Ø¯ÙˆÙ† Ø£Ø±Ù‚Ø§Ù…</div>

    <div class="message" id="message">
        <img src="https://i.imgur.com/4M34hi2.png" class="avatar">
        <h3 id="text"></h3>
    </div>

    <div class="countdown" id="countdown"></div>
</div>

<audio id="bgMusic" loop>
    <source src="ramadan.mp3" type="audio/mpeg">
</audio>

<script>
let music = document.getElementById("bgMusic");
music.volume = .5;

function toggleMusic(){
    if(music.paused){ music.play(); } else { music.pause(); }
}

function greet(){
    let name = document.getElementById("userName").value.trim();
    let type = document.getElementById("type").value;
    let color = document.getElementById("color").value;
    let error = document.getElementById("error");
    let message = document.getElementById("message");
    let text = document.getElementById("text");
    let card = document.getElementById("card");

    if(name === "" || /\d/.test(name)){
        error.style.display = "block";
        return;
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙÙˆØ± Ø§Ù„Ø¶ØºØ·
    music.play().catch(e => console.log("ØªØ·Ù„Ø¨ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ØªÙØ§Ø¹Ù„Ø§Ù‹ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹"));

    error.style.display = "none";
    card.style.backgroundColor = color;

    let greeting = "";
    if(type === "friends"){
        greeting = "Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ÙŠØ§ " + name + " ğŸŒŸ ØµØ¯ÙŠÙ‚ÙŠ Ø§Ù„ØºØ§Ù„ÙŠ";
    } else if(type === "family"){
        greeting = "ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†Øª Ø¨Ø®ÙŠØ± ÙŠØ§ " + name + " â¤ï¸ Ù…Ù† Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©";
    } else {
        greeting = "ÙŠØ³Ø±Ù†ÙŠ Ø£Ù† Ø£Ù‡Ù†Ø¦ÙƒÙ… Ø¨Ø­Ù„ÙˆÙ„ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ ÙŠØ§ " + name;
    }

    text.innerHTML = greeting;
    message.classList.add("show");

    confetti({
        particleCount: 150,
        spread: 70,
        origin: { y: 0.6 }
    });
}

function sendWhatsApp(){
    let name = document.getElementById("userName").value.trim();
    if(name === "" || /\d/.test(name)){
        alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­ Ø£ÙˆÙ„Ø§Ù‹");
        return;
    }
    let siteLink = window.location.origin + window.location.pathname + "?name=" + encodeURIComponent(name);
    let textMessage = "ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…\n\nØªÙ‡Ù†Ø¦Ø© Ø®Ø§ØµØ© Ø¥Ù„Ù‰: " + name + "\n\nØ§Ø¶ØºØ· Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ØªÙ‡Ù†Ø¦Ø©:\n" + siteLink;
    let url = "https://api.whatsapp.com/send?text=" + encodeURIComponent(textMessage);
    window.open(url, "_blank");
}

window.onload = function(){
    let params = new URLSearchParams(window.location.search);
    let name = params.get("name");
    if(name){
        document.getElementById("userName").value = name;
        greet();
    }
}

function countdownRamadan(){
    let target = new Date("March 1, 2026 00:00:00").getTime();
    let now = new Date().getTime();
    let diff = target - now;
    if(diff < 0){
        document.getElementById("countdown").innerHTML = "Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ ğŸŒ™";
        return;
    }
    let days = Math.floor(diff / (1000 * 60 * 60 * 24));
    let hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    document.getElementById("countdown").innerHTML = "Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø±Ù…Ø¶Ø§Ù†: " + days + " ÙŠÙˆÙ… " + hours + " Ø³Ø§Ø¹Ø© " + minutes + " Ø¯Ù‚ÙŠÙ‚Ø©";
}
setInterval(countdownRamadan, 1000);
</script>

</body>
</html>
